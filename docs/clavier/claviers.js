
const claviers = {
    heim : {
        rang3 : [
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G#'}, 
            { name: 'Eb'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G#'}, 
            { name: 'Eb'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G#'}, 
        ],
        rang2 : [ 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G'}
        ],
        rang1 : [ 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'E'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'E'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}
        ]
    },
    milleretold : {
        rang3 : [
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'Eb'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'Eb'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
        ],
        rang2 : [ 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}
        ],
        rang1 : [ 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'E'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'E'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}
        ]
    },
    milleret : {
        rang3 : [
            { name: 'C'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'Eb'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'Eb'}, 
            { name: 'C#'}, 
            { name: 'Bb'}
        ],
        rang2 : [ 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'},
            { name: 'G'}
        ],
        rang1 : [ 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name: 'E'}, 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name: 'E'}, 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'},
            { name: 'E'}
        ]
    },
    chroma : {
        rang3 : [
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
        ],
        rang2 : [ 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}
        ],
        rang1 : [ 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}
        ]
    },
    chroma2 : {
        rang2 : [
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
        ],
        rang3 : [ 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}
        ],
        rang1 : [ 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}
        ]
    },
    chroma3 : {
        rang2 : [
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
        ],
        rang3 : [ 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}
        ],
        rang1 : [ 
            { name:  'Eb'}, 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}
        ]
    },
    chroma4 : {
        rang3 : [
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
        ],
        rang2 : [ 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'},
            { name: 'F'},
        ],
        rang1 : [ 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}
        ]
    },
    darwin : {
        rang3 : [
            { name: 'shift', value: 3.4 }, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'}, 
            { name: 'F'}, 
            { name: 'D'}, 
            { name: 'B'}, 
            { name: 'G#'} 
        ],
        rang2 : [ 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'}, 
            { name: 'G'}, 
            { name: 'E'}, 
            { name: 'C#'}, 
            { name: 'Bb'},
            { name: 'G'},
        ],
        rang1 : [ 
            { name: 'Eb'}, 
            { name: 'C'}, 
            { name: 'A'}, 
            { name: 'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'}, 
            { name:  'Eb'}, 
            { name:  'C'}, 
            { name:  'A'}, 
            { name:  'F#'},
            { name: 'shift', value: 3.4 }
        ]
    }
}

function getPitchClass(pitch) {
    switch(pitch) {
        case 'C': return 0;
        case 'Db': 
        case 'C#': return 1;
        case 'D': return 2;
        case 'D#': 
        case 'Eb': return 3;
        case 'E': return 4; 
        case 'F': return 5;
        case 'F#': 
        case 'Gb': return 6;
        case 'G': return 7;
        case 'G#': 
        case 'Ab': return 8;
        case 'A': return 9;
        case 'A#': 
        case 'Bb': return 10;
        case 'B': return 11;
    }
    return -1;
}